{"version":3,"sources":["features/ProductManager/components/ProductForm/index.jsx","features/ProductManager/pages/AddPage/index.jsx","api/axiosClient.js","api/categoryApi.js","api/productApi.js"],"names":["ProductForm","props","isAdd","categorySelected","product","categoryOptions","handleSubmit","initialValue","className","onSubmit","row","sm","type","name","id","placeholder","required","defaultValue","addonType","min","max","price","quantity","options","defaultProps","value","label","AddPage","useState","setCategoryOptions","categories","setCategories","modal","setModal","toggle","message","setMessage","useEffect","a","categoryApi","findAll","res","listCategory","map","item","option","push","console","log","getCategories","isOpen","onClick","to","color","event","preventDefault","data","FormData","target","get","category","find","productApi","save","createProduct","axiosClient","axios","create","baseURL","headers","paramsSerializer","params","queryString","stringify","interceptors","request","use","config","response","error","createNew","post","findById","categoryId","url","update","put","findByCategoryName"],"mappings":"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","file":"static/js/8.82a85207.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n    Button,\r\n    Form,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    Col,\r\n    InputGroupAddon,\r\n    InputGroupText,\r\n} from 'reactstrap';\r\nimport Select from 'react-select';\r\nimport \"./productform.css\";\r\nProductForm.propTypes = {\r\n    initialValue: PropTypes.object.isRequired,\r\n    isAdd: PropTypes.bool,\r\n    categorySelected: PropTypes.object,\r\n    categoryOptions: PropTypes.array,\r\n    handleSubmit: PropTypes.func.isRequired,\r\n};\r\nProductForm.defaultProps = {\r\n    isAdd: true,\r\n    categoryOptions: [],\r\n    categorySelected: {\r\n        value: \"\",\r\n        label: \"Enter category ...\",\r\n    }\r\n}\r\nfunction ProductForm(props) {\r\n    const { isAdd, product, categorySelected, categoryOptions, handleSubmit, initialValue } = props;\r\n    return (\r\n        <div className=\"container\">\r\n            <Form\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <FormGroup>\r\n                </FormGroup>\r\n                <FormGroup row>\r\n                    <Col sm={4}>\r\n                        <Label>Tên sản phẩm</Label>\r\n                        <Input\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            id=\"\"\r\n                            placeholder=\"Enter product name ...\"\r\n                            required\r\n                            defaultValue={initialValue.name}\r\n                        />\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                        <Label>Giá</Label>\r\n\r\n                        <InputGroupAddon addonType=\"prepend\">\r\n                            <Input\r\n                                type=\"number\"\r\n                                name=\"price\"\r\n                                id=\"\"\r\n                                placeholder=\"Enter product price ...\"\r\n                                min={10000}\r\n                                max={99999999}\r\n                                required\r\n                                defaultValue={initialValue.price}\r\n                            />\r\n                            <InputGroupText>VNĐ</InputGroupText>\r\n                        </InputGroupAddon>\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                        <Label>Số lượng</Label>\r\n                        <Input\r\n                            type=\"number\"\r\n                            name=\"quantity\"\r\n                            id=\"\"\r\n                            placeholder=\"Enter product quantity...\"\r\n                            required\r\n                            min={10}\r\n                            max={999999}\r\n                            defaultValue={initialValue.quantity}\r\n                        />\r\n                    </Col>\r\n                </FormGroup>\r\n                <FormGroup row>\r\n                    <Col sm={4}>\r\n                        <Label>Thể loại sản phẩm</Label>\r\n                        <Select\r\n                            name=\"category\"\r\n                            options={categoryOptions}\r\n                            defaultValue={categorySelected}\r\n                        />\r\n                    </Col>\r\n                    <Col sm={4} className=\"d-flex align-items-end\">\r\n                        <Button>{isAdd ? \"Thêm mới\" : \"Cập nhật\"}</Button>\r\n                    </Col>\r\n                </FormGroup>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductForm;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport categoryApi from '../../../../api/categoryApi';\r\nimport productApi from '../../../../api/productApi';\r\nimport ProductForm from '../../components/ProductForm';\r\n\r\nAddPage.propTypes = {\r\n\r\n};\r\n\r\nfunction AddPage(props) {\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const data = new FormData(event.target);\r\n        const product = {\r\n            name: data.get('name'),\r\n            price: data.get('price'),\r\n            quantity: data.get('quantity'),\r\n            category: categories.find(category => category.id === data.get(\"category\"))\r\n        }\r\n        const createProduct = async () => {\r\n            try {\r\n                const res = await productApi.save(product);\r\n                setMessage(res.message)\r\n            } catch (error) {\r\n                console.log(error);\r\n                setMessage(\"Đã xảy ra lỗi!\");\r\n            }\r\n        }\r\n        createProduct();\r\n        setModal(true);\r\n    }\r\n\r\n    const [categoryOptions, setCategoryOptions] = useState(null);\r\n    const [categories, setCategories] = useState(null);\r\n    const [modal, setModal] = useState(false);\r\n    const toggle = () => setModal(!modal);\r\n    const [message, setMessage] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const getCategories = async () => {\r\n            try {\r\n                const res = await categoryApi.findAll();\r\n                setCategories(res);\r\n                var listCategory = [];\r\n                res.map(item => {\r\n                    var option = {\r\n                        value: item.id,\r\n                        label: item.name,\r\n                    }\r\n                    listCategory.push(option);\r\n                })\r\n                setCategoryOptions(listCategory);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        getCategories();\r\n    }, [])\r\n\r\n    const initialValue = {\r\n        name: \"\",\r\n        price: null,\r\n        quantity: null,\r\n        categorySelected: null\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <Modal isOpen={modal} onClick={toggle} >\r\n                <ModalHeader toggle={toggle} >Thông báo</ModalHeader>\r\n                {message !== null ? <ModalBody>{message}</ModalBody> : \"\"}\r\n                <ModalFooter>\r\n                    <Link className=\"btn btn-info\" to=\"/product\" >Quay lại danh sách</Link>\r\n                    <Button onClick={toggle} color=\"secondary\">Tắt</Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n\r\n            <ProductForm\r\n                handleSubmit={handleSubmit}\r\n                categoryOptions={categoryOptions !== null ? categoryOptions : []}\r\n                initialValue={initialValue}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddPage;","import axios from 'axios';\r\nimport queryString from 'query-string';\r\n\r\nconst axiosClient = axios.create({\r\n    baseURL: 'http://localhost:8080',\r\n    headers: {\r\n        'content-type': 'application/json',\r\n    },\r\n    paramsSerializer: params => queryString.stringify(params),\r\n});\r\n\r\n\r\naxiosClient.interceptors.request.use(async (config) => {\r\n    // const currentUser = firebase.auth().currentUser;\r\n    // if (localStorage.getItem('shop1_auth')) {\r\n    //     const shop1_auth = await JSON.parse(localStorage.getItem('shop1_auth'));\r\n    //     config.headers.Authorization = `Bearer ${shop1_auth.accessToken}`;\r\n    // }\r\n    // Handle token here ...\r\n    return config;\r\n})\r\n\r\naxiosClient.interceptors.response.use((response) => {\r\n    if (response && response.data) {\r\n        return response.data;\r\n    }\r\n    return response;\r\n}, (error) => {\r\n    // Handle errors\r\n    throw error;\r\n});\r\n\r\nexport default axiosClient;","import axiosClient from \"./axiosClient\";\r\n\r\nconst categoryApi = {\r\n    findAll: () => {\r\n        const url = '/api/v1/category';\r\n        return axiosClient.get(url);\r\n    },\r\n    createNew: (category) => {\r\n        const url = \"/api/v1/category\";\r\n        return axiosClient.post(url, category);\r\n    },\r\n    findById: (categoryId) => {\r\n        const url = `/api/v1/category/${categoryId}`;\r\n        return axiosClient.get(url);\r\n    },\r\n    update:(category) => {\r\n        const url = \"/api/v1/category\";\r\n        return axiosClient.put(url,category);\r\n    }\r\n}\r\nexport default categoryApi;","import axiosClient from \"./axiosClient\";\r\n\r\nconst productApi = {\r\n    findAll: (params) => {\r\n        const url = \"/api/v1/product\";\r\n        return axiosClient.get(url, { params });\r\n    },\r\n    findByCategoryName: (params) => {\r\n        const url = 'api/v1/product/findByCategoryName';\r\n        return axiosClient.get(url, { params });\r\n    },\r\n    findById: (params) => {\r\n        const url = `api/v1/product/${params}`;\r\n        return axiosClient.get(url);\r\n    },\r\n    save: (product) => {\r\n        const url = 'api/v1/product';\r\n        return axiosClient.post(url, product);\r\n    },\r\n    update:(product) => {\r\n        const url = 'api/v1/product';\r\n        return axiosClient.put(url,product)\r\n    }\r\n}\r\n\r\n\r\nexport default productApi;"],"sourceRoot":""}